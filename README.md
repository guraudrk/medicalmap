1.프로젝트 이름: 의료대동여지도



2.프로젝트 요약 설명(설명/기간/같이한 사람들 수/맡았던 역활)


전국에 있는 10만개의 모든 약국,병원의 데이터를 추출하여 몽고디비에 저장 한 뒤 그것을 서버에서 받아온 뒤, 마커로 변환하여 위치 정보 및 여러가지 데이터를 보여주는 웹 사이트이다.
기간: 2023년 5월 초~6월 초
같이한 사람들 수:개인프로젝트 
맡았던 역활: 모든 개발 과정을 총괄함.


3.사용한 기술 스텍


백엔드:express,node.js,cors,nodemon 등
프론트엔드:react,javascript,html,css,jquery,styled-components
데이터베이스:MongoDB(Nosql)-nosql이 빅데이터 처리가 가능하고 저렴한 비용으로 분산처리 및 병렬처리가 가능하기 때문에 몽고디비를 사용하였다.


4.구현 기술(어떤 기술을 사용하여 어떤 것을 구현했는지)

React & Node.js: 이 프로젝트는 React로 프론트엔드를 구축하고 Node.js로 백엔드를 구현했다. React를 사용해 동적인 UI를 제공하며, 서버와의 통신을 위해 Express를 활용. npm install로 필요한 패키지들을 설치하고, npm run start로 개발 서버를 실행하여 프로젝트를 진행했으며, 최종적으로 배포를 위해 npm run build를 통해 운영체제 배포용 빌드를 완료했습니다.

MongoDB: 전국의 약국 및 병원의 데이터를 CSV 파일로 변환하여 MongoDB에 저장. MongoDB Compass를 통해 데이터를 관리하며, 병원의 경도, 위도, 주소, 전화번호, 웹사이트 정보만 저장하여 필요한 최소한의 데이터를 유지함. MongoDB를 선택한 이유는 MongoDB는 빅데이터 처리가 가능하고 저렴한 비용으로 분산처리 및 병렬처리가 가능하기 때문이었다.

Kakao Maps API: 지도 서비스는 Kakao 지도 API를 사용해 구현함. 전국 병원 및 약국 위치를 지도 위에 마커로 표시하며, 사용자의 현재 위치와 검색 기능도 함께 제공하는데 성공함. 마커와 인포윈도우 등의 스타일은 CSS로 커스터마이즈함.

Proxy & CORS: React와 Node.js 서버 간의 데이터를 원활하게 주고받기 위해 CORS와 Proxy 설정을 적용. 이를 통해 API 요청을 할 때 발생할 수 있는 보안 문제나 교차 도메인 제한을 해결함.

JQuery: 검색 기능과 몇몇 상호작용 부분에서는 jQuery를 사용. 특히 keydown 이벤트를 감지해 검색을 실행하거나 필터링을 적용하는 부분에서 효율적으로 사용됨.

데이터 처리: 대용량 데이터를 처리할 때 body-parser를 사용하여 CSV 데이터를 적절히 파싱해 서버로 전달하고, 프론트엔드에서 데이터를 동기/비동기적으로 처리하여 효율적으로 화면에 출력함.


5.시행착오 및 해결 방안 

Sharding을 통한 성능 개선: 프로젝트 초기에 10만 개 이상의 데이터를 한꺼번에 처리하려다 보니 데이터 로딩 시간이 너무 길어졌었다(최대 15분 소요). 

이를 해결하기 위해 MongoDB의 Sharding을 도입하여 데이터를 16개의 컬렉션으로 나누었다.

이렇게 병렬로 데이터를 처리하고 가져오는 방식으로 데이터 로딩 시간이 크게 단축 되었다(15분---->1분).

서버와의 연결 문제:err_connection_refused 오류가 발생했을 때는 원소켓을 리셋하고, IP 캐시를 플러시한 뒤 DNS 설정을 변경하여 문제를 해결하였다. 

이를 통해 클라이언트와 서버 간의 원활한 통신이 가능해졌다.



6.인사이트

MongoDB를 활용하며 NoSQL의 구조와 특성에 대해 깊이 이해할 수 있었다. 특히 데이터가 구조화되지 않은 상태에서의 처리 방식과 대규모 데이터를 효율적으로 관리하고 처리하는 방법에 대한 노하우를 얻게 되었다. Sharding과 병렬 처리는 대용량 데이터베이스를 다루는 중요한 기술임을 체감하였고, 이 경험은 향후 다른 프로젝트에서도 큰 도움이 될 것이다.
